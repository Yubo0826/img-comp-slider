(function(s,e){typeof exports=="object"&&typeof module<"u"?e(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],e):(s=typeof globalThis<"u"?globalThis:s||self,e(s.ImgCompSlider={},s.Vue))})(this,function(s,e){"use strict";const g={class:"img-comp__slider-wrapper"},f=e.createElementVNode("label",{for:"img-comp-range",class:"img-comp__label"},"Move image comparison slider",-1),u={class:"img-comp__figure img-comp__figure--overlay"},h={class:"img-comp__picture"},V=["srcset"],E=["srcset"],N=["src"],y={class:"img-comp__caption img-comp__caption--before"},w={class:"img-comp__caption-body"},b=[e.createElementVNode("svg",{class:"img-comp__thumb-icon",xmlns:"http://www.w3.org/2000/svg",width:"38",height:"20",viewBox:"0 0 18 10",fill:"currentColor"},[e.createElementVNode("path",{class:"img-comp__thumb-icon--left",d:"M12.121 4.703V.488c0-.302.384-.454.609-.24l4.42 4.214a.33.33 0 0 1 0 .481l-4.42 4.214c-.225.215-.609.063-.609-.24V4.703z"}),e.createElementVNode("path",{class:"img-comp__thumb-icon--right",d:"M5.879 4.703V.488c0-.302-.384-.454-.609-.24L.85 4.462a.33.33 0 0 0 0 .481l4.42 4.214c.225.215.609.063.609-.24V4.703z"})],-1)],S={class:"img-comp__image-wrapper"},L={class:"img-comp__figure"},v={class:"img-comp__picture"},x=["srcset"],C=["srcset"],k=["src"],M={class:"img-comp__caption img-comp__caption--after"},T={class:"img-comp__caption-body"},B=e.defineComponent({__name:"ImgCompSlider",props:{img:{},beforeLabel:{},afterLabel:{},direction:{default:"horizontal"}},setup(I){const d=I,c=e.ref(d.img[0]||null),n=e.ref(d.img[1]||null),_=e.ref(null),l=e.ref(null),a=e.ref(null),m=e.ref(null),p=e.ref(50),z=t=>{if(!a.value||!m.value)return;let o=t.offsetY-20;const i=a.value;t.offsetY<=i.offsetTop&&(o=-20),t.offsetY>=i.offsetHeight&&(o=i.offsetHeight-20),m.value.style.top=`${o}px`},r=t=>{const o=t.target;if(!a.value||!l.value)return;const i=o.value;a.value.style.left=`${i}%`,l.value.style.width=`${i}%`},D=t=>{var o,i;if(t.type==="input"){(o=a.value)==null||o.classList.add("img-comp__range--active");return}(i=a.value)==null||i.classList.remove("img-comp__range--active")};return e.onMounted(()=>{var o;const t=(o=_.value)==null?void 0:o.querySelector("#image-compare-range");t&&!("ontouchstart"in window)&&(t.addEventListener("mouseup",D),t.addEventListener("mousedown",z)),t==null||t.addEventListener("input",r),t==null||t.addEventListener("change",r)}),(t,o)=>c.value&&n.value?(e.openBlock(),e.createElementBlock("section",{key:0,class:"img-comp",ref_key:"imageComparisonSlider",ref:_},[e.createElementVNode("div",g,[f,e.withDirectives(e.createElementVNode("input",{type:"range",min:"0",max:"100","onUpdate:modelValue":o[0]||(o[0]=i=>p.value=i),class:"img-comp__range",id:"image-compare-range",onInput:r,onChange:r},null,544),[[e.vModelText,p.value]]),e.createElementVNode("div",{class:"img-comp__image-wrapper img-comp__image-wrapper--overlay",ref_key:"imageWrapperOverlay",ref:l},[e.createElementVNode("figure",u,[e.createElementVNode("picture",h,[e.createElementVNode("source",{srcset:c.value,media:"(max-width: 40em)"},null,8,V),e.createElementVNode("source",{srcset:c.value,media:"(min-width: 40.0625em) and (max-width: 48em)"},null,8,E),e.createElementVNode("img",{src:c.value,alt:"",class:"img-comp__image"},null,8,N)]),e.createElementVNode("figcaption",y,[e.createElementVNode("span",w,e.toDisplayString(t.beforeLabel),1)])])],512),e.createElementVNode("div",{class:"img-comp__slider",ref_key:"slider",ref:a},[e.createElementVNode("span",{class:"img-comp__thumb",ref_key:"thumb",ref:m},b,512)],512),e.createElementVNode("div",S,[e.createElementVNode("figure",L,[e.createElementVNode("picture",v,[e.createElementVNode("source",{srcset:n.value,media:"(max-width: 40em)"},null,8,x),e.createElementVNode("source",{srcset:n.value,media:"(min-width: 40.0625em) and (max-width: 48em)"},null,8,C),e.createElementVNode("img",{src:n.value,alt:"",class:"img-comp__image"},null,8,k)]),e.createElementVNode("figcaption",M,[e.createElementVNode("span",T,e.toDisplayString(t.afterLabel),1)])])])])],512)):e.createCommentVNode("",!0)}});s.ImgCompSlider=B,Object.defineProperty(s,Symbol.toStringTag,{value:"Module"})});
